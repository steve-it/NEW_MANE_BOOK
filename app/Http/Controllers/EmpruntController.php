<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  1.8.8   |
    |              on 2018-02-16 09:48:53              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 namespace App\Http\Controllers; use App\Documents; use Illuminate\Http\Response; use Illuminate\Http\Request; use App\Categorie; use App\Domaine; use App\Emprunt; use App\SousDomaine; use Illuminate\Support\Facades\DB; class EmpruntController extends Controller { protected $Emprunts; public function __construct(Emprunt $emprunt) { $this->Emprunts = $emprunt; } public function index() { $emprunts = DB::table("\144\157\143\x75\x6d\x65\x6e\164\x73")->join("\143\141\x74\145\147\x6f\162\151\x65\163", "\x63\x61\x74\x65\147\157\x72\x69\x65\163\56\x69\x64", "\75", "\144\157\143\x75\x6d\145\x6e\164\163\x2e\x63\141\164\x65\147\157\162\151\145\x73\137\x69\144")->join("\163\157\x75\163\144\x6f\155\141\x69\156\x65\163", "\163\157\x75\x73\144\157\155\x61\x69\156\145\163\x2e\x69\x64", "\75", "\144\157\x63\165\x6d\145\156\164\163\x2e\x73\x6f\x75\x73\144\x6f\x6d\141\x69\156\145\x73\x5f\x69\144")->join("\x64\157\155\141\151\x6e\x65\163", "\x64\157\155\141\151\156\x65\163\x2e\151\x64", "\75", "\x73\x6f\x75\x73\x64\157\x6d\x61\x69\156\x65\163\x2e\x64\157\x6d\141\151\156\x65\x73\x5f\x69\144")->join("\145\155\160\x72\165\x6e\164\x73", "\144\x6f\x63\165\155\145\156\164\163\x2e\151\144", "\x3d", "\145\155\x70\x72\x75\156\x74\x73\x2e\x64\157\143\165\x6d\145\x6e\164\163\x5f\151\x64")->get(); return view("\145\155\160\x72\165\156\164\163\x2e\154\151\163\x74", compact("\145\155\x70\162\x75\x6e\164\163")); } public function create() { return view("\x65\155\x70\x72\165\x6e\164\163\x2e\x61\x64\x64", array("\x64\x6f\143\165\x6d\x65\156\x74\163" => Documents::pluck("\124\x69\x74\x72\x65\104\157\x63\165\x6d\145\x6e\x74\163", "\x69\x64"))); } public function emprunt(Request $r) { $ouvre = DB::table("\144\157\x63\165\x6d\x65\156\x74\x73")->where("\144\x6f\x63\x75\155\x65\156\164\x73\56\x69\x64", $r->id)->select("\144\157\x63\x75\155\145\x6e\x74\163\56\151\144", "\x64\157\143\165\155\145\156\x74\x73\56\x54\x69\164\x72\x65\x44\x6f\x63\x75\155\145\x6e\x74\163", "\x64\157\143\x75\155\x65\156\164\x73\x2e\103\x6f\164\x65\104\157\x63\x75\155\x65\x6e\164\163")->get(); return view("\x65\x6d\160\162\x75\x6e\x74\x73\56\x61\144\144\x31", array("\157\165\x76\162\x65" => $ouvre[0])); } public function retouremprunt(Request $r) { $retour = DB::table("\x64\157\x63\x75\155\145\156\164\163")->join("\145\155\x70\162\165\x6e\164\x73", "\x64\157\x63\165\155\x65\x6e\164\x73\56\151\x64", "\75", "\x65\155\160\162\165\156\x74\x73\56\x64\x6f\143\x75\155\x65\x6e\x74\x73\x5f\x69\x64")->where("\145\x6d\160\x72\165\x6e\164\x73\56\x69\144", $r->id)->select("\145\155\x70\162\x75\x6e\x74\x73\56\x2a", "\x64\x6f\x63\x75\155\x65\156\x74\163\x2e\x54\151\164\162\x65\x44\157\143\x75\155\145\x6e\164\163")->get(); return view("\145\155\x70\162\165\x6e\164\x73\x2e\141\144\144\162\145\x74\x6f\165\x72", array("\x72\x65\x74\x6f\x75\162\145\155\160\x72\x75\156\164" => $retour[0])); } public function store(Request $request) { goto YUsdi; y07o6: $stock = $nbre_emprunt_initial[0]->NbreExemplaireEdition - $nbre_emprunt_actuel; goto YnbDC; WIUpq: $emprunt->save(); goto lGn7B; uKbug: $nbre_emprunt_actuel = $nbre_emprunt_initial[0]->nbre_emprunt; goto F9zfC; azQ6T: uIwHE: goto J11mF; MrfVz: DB::table("\x64\x6f\x63\165\155\x65\x6e\x74\163")->where("\151\x64", $request["\x64\x6f\x63\x75\155\x65\x6e\x74"])->update(array("\156\x62\x72\145\x5f\145\x6d\x70\x72\x75\156\x74" => $nbre_emprunt)); goto xZtT8; YUsdi: $nbre_emprunt_initial = DB::table("\144\157\x63\x75\x6d\145\156\x74\x73")->where("\x64\x6f\x63\x75\155\x65\x6e\164\163\x2e\151\x64", $request["\144\x6f\143\x75\x6d\145\x6e\164"])->select("\144\157\x63\x75\x6d\145\x6e\164\x73\x2e\52")->get(); goto uKbug; F9zfC: if ($nbre_emprunt_actuel == $nbre_emprunt_initial[0]->NbreExemplaireEdition) { goto BU3MA; } goto hYYFv; Jj1ML: goto uIwHE; goto U52_5; U52_5: BU3MA: goto y07o6; hYYFv: $nbre_emprunt = $nbre_emprunt_actuel + 1; goto MrfVz; lGn7B: return redirect("\x45\x6d\x70\162\165\156\x74\163")->withOk("\115\x6f\x6e\163\151\x65\165\x72\x20\72" . $emprunt["\x4e\x6f\155\105\155\x70\162\165\x6e\x74\145\165\x72"] . "\x20\126\x69\145\156\164\x20\x64\40\x65\146\x66\x65\143\x74\165\x65\162\x20\165\x6e\x20\x45\155\x70\162\165\x6e\x74\x2e"); goto Jj1ML; xZtT8: $emprunt = new Emprunt(array("\x4e\157\x6d\105\x6d\x70\162\165\x6e\x74\145\x75\162" => $request["\116\157\155\x45\x6d\160\x72\165\x6e\164\145\165\x72"], "\103\156\x69\105\155\160\162\x75\156\164\145\x75\162" => $request["\103\x6e\x69\105\x6d\160\162\165\x6e\x74\145\165\x72"], "\141\144\x72\145\x73\x73\145" => $request["\x61\x64\162\145\163\x73\145"], "\104\141\x74\145\x45\155\160\162\165\x6e\164" => $request["\104\x61\x74\145\105\155\x70\162\165\x6e\164"], "\x44\141\x74\x65\x45\x66\x66\122\145\x74\x6f\x75\162\105\x6d\160\x72\165\156\x74" => $request["\104\141\x74\x65\x45\x66\146\122\x65\x74\157\165\x72\105\x6d\x70\x72\x75\156\164"], "\117\x62\163\x65\162\166\x61\164\x69\x6f\156\105\155\x70\x72\165\156\164" => $request["\x4f\x62\163\x65\162\x76\141\x74\x69\x6f\156\105\x6d\x70\x72\x75\156\164"], "\x73\x74\141\x74\165\163\x45\155\160\162\165\x6e\164\x65\165\x72" => $request["\144\x65\x73\164\x69\x6e\x61\164\x69\157\x6e"], "\x63\x61\x75\164\151\x6f\156\105\x6d\x70\162\165\x6e\x74\145\x75\x72" => $request["\160\162\x69\170"], "\104\141\164\145\137\x52\145\x74\157\165\162" => null, "\x64\x6f\x63\165\155\x65\x6e\x74\x73\x5f\x69\144" => $request["\144\x6f\x63\165\x6d\x65\x6e\x74"], "\x61\144\162\145\163\x73\x65" => $request["\141\144\x72\x65\163\x73\145"])); goto WIUpq; YnbDC: return view("\145\x6d\160\162\165\156\164\163\56\145\x72\162\x65\165\x72", compact("\x73\x74\157\143\153")); goto azQ6T; J11mF: } public function saveretour(Request $request) { } public function show($id) { } public function edit($id) { } public function update(Request $request) { goto EEGAj; Q2_Yv: if (!($nbre_emprunt_actuel > 0)) { goto TomCa; } goto mq8AC; AIW0H: $nbre_emprunt_actuel = $nbre_emprunt_initial[0]->nbre_emprunt; goto Q2_Yv; xrf0C: DB::table("\145\x6d\160\162\165\156\164\x73")->where("\x65\155\160\162\165\x6e\x74\x73\56\x69\144", $request["\151\x64\x72\145\x74\x6f\x75\162\x65\x6d\160\162\165\x6e\164"])->update(array("\145\155\x70\x72\x75\156\x74\x73\56\x44\x61\x74\x65\x5f\122\145\164\x6f\165\162" => $request["\x44\x61\164\145\x5f\122\x65\x74\157\x75\x72"], "\117\x62\x73\x65\162\x76\141\x74\151\x6f\x6e\x52\145\164\157\x75\162" => $request["\117\142\163\x65\x72\166\141\164\151\157\156\x52\145\x74\157\165\x72"])); goto xqTOW; mq8AC: $nbre_emprunt_decrement = $nbre_emprunt_actuel - 1; goto xrf0C; xqTOW: DB::table("\144\x6f\x63\x75\155\145\x6e\x74\163")->where("\x64\x6f\x63\x75\155\x65\156\164\x73\x2e\x69\x64", $nbre_emprunt_initial[0]->documents_id)->update(array("\144\x6f\143\165\x6d\x65\x6e\x74\x73\56\x6e\x62\x72\x65\x5f\145\x6d\x70\x72\x75\x6e\164" => $nbre_emprunt_decrement)); goto Zt7jT; txGs9: TomCa: goto Zh1XL; Zt7jT: return redirect("\x45\155\x70\x72\165\156\x74\x73")->withOk("\125\x6e\40\x65\x78\x65\155\x70\154\141\151\162\145\40\x64\x65\40\x6c\x27\x6f\x75\x76\162\x61\147\x65\40\x64\145\x20\124\151\164\x72\x65\x20\x3a" . $nbre_emprunt_initial[0]->TitreDocuments . "\141\40\303\xa9\164\303\xa9\x20\x72\x65\164\x6f\165\x72\x6e\x65\x72\56"); goto txGs9; EEGAj: $nbre_emprunt_initial = DB::table("\x64\x6f\x63\x75\x6d\x65\x6e\x74\163")->join("\x65\x6d\x70\x72\165\x6e\x74\163", "\x64\157\x63\165\155\145\x6e\x74\x73\56\151\x64", "\75", "\145\155\x70\162\x75\156\164\163\x2e\144\157\143\165\155\x65\x6e\164\x73\x5f\151\x64")->where("\145\155\x70\162\x75\x6e\x74\x73\56\151\144", $request["\x69\144\x72\145\164\x6f\x75\162\x65\155\160\x72\165\156\x74"])->select("\x64\x6f\x63\165\x6d\x65\x6e\x74\163\x2e\52", "\145\x6d\x70\162\165\x6e\x74\163\x2e\x2a")->get(); goto AIW0H; Zh1XL: } public function destroy(Request $r) { goto LVGnx; LVGnx: $emprunt = Emprunt::where("\151\144", $r->id)->first(); goto VGJhn; o6fKT: IqsO2: goto ijC3W; VGJhn: if (!($emprunt != null)) { goto IqsO2; } goto LP08u; LP08u: $emprunt->delete(); goto dGJYC; dGJYC: return redirect()->back(); goto o6fKT; ijC3W: } } ?>
