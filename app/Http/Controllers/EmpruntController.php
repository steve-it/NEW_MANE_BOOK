<?php
/*__rester vrai__*/
 namespace App\Http\Controllers; use App\Documents; use Illuminate\Http\Response; use Illuminate\Http\Request; use App\Categorie; use App\Domaine; use App\Emprunt; use App\SousDomaine; use Illuminate\Support\Facades\DB; class EmpruntController extends Controller { protected $Emprunts; public function __construct(Emprunt $emprunt) { $this->Emprunts = $emprunt; } public function index() { $emprunts = DB::table("\x64\x6f\x63\165\155\x65\x6e\164\163")->join("\x63\141\164\145\x67\157\x72\151\x65\x73", "\143\x61\164\145\147\157\x72\151\x65\163\x2e\151\144", "\75", "\x64\157\x63\165\155\145\x6e\164\163\56\x63\x61\x74\145\147\157\x72\x69\145\x73\x5f\151\x64")->join("\163\157\165\163\x64\157\155\141\x69\x6e\x65\x73", "\163\x6f\165\163\x64\x6f\155\x61\x69\x6e\145\x73\x2e\151\x64", "\x3d", "\144\157\143\x75\155\x65\156\164\163\x2e\x73\x6f\165\x73\144\157\155\x61\x69\x6e\145\x73\x5f\x69\144")->join("\x64\x6f\155\x61\x69\156\x65\x73", "\x64\157\x6d\141\x69\x6e\145\x73\x2e\x69\144", "\75", "\163\x6f\x75\x73\144\x6f\155\x61\x69\156\145\x73\56\144\157\155\141\x69\156\145\163\x5f\151\144")->join("\145\155\160\x72\165\x6e\164\x73", "\144\x6f\143\165\155\x65\156\x74\163\56\151\144", "\x3d", "\x65\x6d\160\162\x75\x6e\x74\x73\56\x64\x6f\x63\165\155\145\156\164\x73\x5f\151\144")->get(); return view("\x65\x6d\160\162\165\156\164\x73\x2e\154\x69\x73\164", compact("\x65\155\x70\x72\165\156\164\163")); } public function create() { return view("\x65\155\160\x72\165\156\164\x73\56\x61\144\144", array("\x64\x6f\x63\x75\x6d\x65\x6e\x74\163" => Documents::pluck("\x54\x69\x74\x72\145\104\x6f\143\165\x6d\145\x6e\164\x73", "\151\144"))); } public function emprunt(Request $r) { $ouvre = DB::table("\x64\157\x63\165\x6d\145\156\164\x73")->where("\x64\157\143\165\x6d\145\156\164\163\56\x69\x64", $r->id)->select("\x64\157\143\x75\155\x65\156\x74\x73\x2e\x69\x64", "\x64\157\x63\165\155\145\156\x74\x73\x2e\124\151\164\x72\145\x44\x6f\143\x75\x6d\x65\x6e\164\x73", "\x64\157\x63\x75\155\145\156\x74\x73\56\x43\157\164\x65\x44\x6f\x63\165\155\145\156\x74\163")->get(); return view("\145\x6d\x70\x72\165\156\164\x73\56\141\x64\x64\61", array("\x6f\165\166\162\145" => $ouvre[0])); } public function retouremprunt(Request $r) { $retour = DB::table("\x64\x6f\x63\x75\155\x65\x6e\x74\163")->join("\145\155\160\162\x75\x6e\164\x73", "\x64\x6f\x63\x75\x6d\145\x6e\164\x73\x2e\x69\x64", "\x3d", "\x65\155\x70\x72\x75\x6e\x74\x73\x2e\x64\157\143\x75\155\x65\x6e\x74\x73\x5f\x69\144")->where("\x65\x6d\160\x72\x75\x6e\x74\x73\x2e\151\144", $r->id)->select("\x65\x6d\x70\x72\x75\x6e\x74\163\x2e\52", "\144\157\143\x75\155\145\156\x74\x73\56\x54\x69\164\x72\x65\x44\157\143\165\155\x65\x6e\164\163")->get(); return view("\x65\155\x70\x72\165\156\x74\x73\56\141\144\x64\x72\145\x74\x6f\165\162", array("\x72\145\x74\x6f\x75\162\x65\x6d\x70\x72\165\156\x74" => $retour[0])); } public function store(Request $request) { goto Uc8ZeESVPjcnSltE; Kxv7cYGqKQ06DPos: $nbre_emprunt = $nbre_emprunt_actuel + 1; goto OWoCqgH3BmbmmtIh; t3rtSgVrCaNYQuTD: NfFZrj044OyeOTrS: goto U5BUdREF63YRDs1Z; U5BUdREF63YRDs1Z: $stock = $nbre_emprunt_initial[0]->NbreExemplaireEdition - $nbre_emprunt_actuel; goto YkbkjTUQEErjdmJU; Uc8ZeESVPjcnSltE: $nbre_emprunt_initial = DB::table("\x64\157\x63\x75\x6d\x65\x6e\x74\x73")->where("\144\x6f\143\165\x6d\x65\156\164\163\56\151\144", $request["\144\157\x63\165\x6d\145\156\x74"])->select("\144\157\143\165\155\145\156\x74\163\x2e\x2a")->get(); goto r0D8IcmghhYgNV9y; NV9LYa82oHODxzLq: if ($nbre_emprunt_actuel == $nbre_emprunt_initial[0]->NbreExemplaireEdition) { goto NfFZrj044OyeOTrS; } goto Kxv7cYGqKQ06DPos; r0D8IcmghhYgNV9y: $nbre_emprunt_actuel = $nbre_emprunt_initial[0]->nbre_emprunt; goto NV9LYa82oHODxzLq; OWoCqgH3BmbmmtIh: DB::table("\144\x6f\x63\165\x6d\x65\156\164\163")->where("\x69\x64", $request["\144\157\x63\x75\155\x65\156\164"])->update(array("\156\142\162\x65\x5f\145\155\160\x72\x75\x6e\164" => $nbre_emprunt)); goto LX5E2FZsUwO9dyeN; xGooWzh6EHC1vdCP: return redirect("\105\x6d\x70\162\165\x6e\x74\x73")->withOk("\x4d\x6f\x6e\x73\151\x65\165\x72\x20\x3a" . $emprunt["\x4e\157\155\105\x6d\160\x72\165\156\x74\x65\165\162"] . "\40\x56\x69\145\156\x74\x20\144\x20\x65\x66\x66\145\x63\x74\x75\x65\162\x20\165\156\x20\x45\x6d\160\162\165\x6e\x74\56"); goto BYfekgMlGDhoaNWj; BYfekgMlGDhoaNWj: goto YAWYio2B67hjZ9DJ; goto t3rtSgVrCaNYQuTD; LX5E2FZsUwO9dyeN: $emprunt = new Emprunt(array("\116\157\155\x45\155\x70\x72\x75\156\164\145\165\162" => $request["\116\157\x6d\x45\x6d\160\x72\165\x6e\164\145\165\162"], "\x43\156\151\x45\155\160\162\165\156\x74\x65\165\162" => $request["\103\156\x69\105\155\160\162\165\x6e\x74\145\165\x72"], "\x61\144\162\145\x73\163\x65" => $request["\141\x64\x72\145\163\x73\x65"], "\x44\141\164\145\x45\155\160\x72\165\156\x74" => $request["\104\x61\164\x65\105\x6d\x70\162\165\x6e\x74"], "\104\x61\x74\x65\105\x66\146\122\145\x74\157\x75\162\105\155\x70\x72\165\x6e\x74" => $request["\x44\x61\164\x65\x45\146\146\x52\x65\x74\157\165\x72\x45\155\x70\x72\x75\x6e\164"], "\117\142\163\x65\x72\x76\141\164\x69\x6f\x6e\105\x6d\160\162\x75\x6e\164" => $request["\117\142\163\x65\162\166\141\x74\151\x6f\156\x45\155\160\x72\x75\156\164"], "\x73\164\141\164\165\163\x45\155\x70\x72\165\156\x74\145\x75\162" => $request["\x64\x65\163\164\151\156\x61\164\x69\157\x6e"], "\x63\x61\x75\x74\151\x6f\x6e\x45\155\x70\x72\165\156\164\x65\x75\x72" => $request["\160\162\151\170"], "\104\141\164\x65\x5f\x52\x65\164\157\165\162" => null, "\x64\x6f\x63\165\x6d\145\x6e\164\163\x5f\151\x64" => $request["\x64\x6f\x63\x75\x6d\x65\x6e\x74"], "\x61\144\162\x65\163\x73\x65" => $request["\141\x64\x72\145\163\x73\145"])); goto G3Wm3bXQm6F0gA8x; G3Wm3bXQm6F0gA8x: $emprunt->save(); goto xGooWzh6EHC1vdCP; xTGho4sVdM3u0eww: YAWYio2B67hjZ9DJ: goto IxBvXRb16Xh5TctQ; YkbkjTUQEErjdmJU: return view("\145\x6d\160\162\165\156\164\x73\x2e\x65\162\x72\145\165\162", compact("\163\x74\157\x63\153")); goto xTGho4sVdM3u0eww; IxBvXRb16Xh5TctQ: } public function saveretour(Request $request) { } public function show($id) { } public function edit($id) { } public function update(Request $request) { goto W0DIrrM04LMfv3Sh; Ot0JE8JUGltDDiCB: DB::table("\144\157\x63\x75\x6d\145\x6e\164\163")->where("\x64\x6f\143\165\x6d\145\x6e\x74\x73\56\151\144", $nbre_emprunt_initial[0]->documents_id)->update(array("\x64\157\143\165\155\145\156\164\163\56\x6e\142\162\145\137\x65\155\x70\x72\165\156\164" => $nbre_emprunt_decrement)); goto fdBK3xa6N5W2urSO; fdBK3xa6N5W2urSO: return redirect("\105\x6d\x70\162\x75\156\x74\163")->withOk("\x55\156\40\x65\170\145\155\160\154\x61\x69\x72\x65\40\x64\x65\x20\154\47\157\x75\166\x72\x61\147\145\x20\x64\145\x20\124\151\164\x72\x65\40\72" . $nbre_emprunt_initial[0]->TitreDocuments . "\x61\x20\303\xa9\164\303\251\x20\162\145\164\157\165\162\x6e\145\x72\56"); goto E_Myg5ffsu6BMTrA; FBa8xYlQ0wWLWC9U: if (!($nbre_emprunt_actuel > 0)) { goto BwpyU61mJAQ49nJr; } goto ow4nmRH49_dXAgrv; W0DIrrM04LMfv3Sh: $nbre_emprunt_initial = DB::table("\144\157\143\x75\155\145\x6e\164\x73")->join("\145\x6d\x70\162\x75\156\164\x73", "\144\157\x63\165\155\145\x6e\x74\163\56\x69\144", "\75", "\x65\155\x70\162\165\156\164\x73\56\144\x6f\x63\165\155\x65\156\x74\x73\x5f\151\144")->where("\x65\155\x70\x72\165\x6e\164\163\56\151\x64", $request["\x69\x64\x72\145\164\157\x75\x72\x65\155\x70\x72\165\x6e\x74"])->select("\x64\157\143\165\155\x65\156\x74\x73\x2e\52", "\145\155\x70\162\165\x6e\x74\163\56\x2a")->get(); goto SCgy9vZahqF4Tx0g; ow4nmRH49_dXAgrv: $nbre_emprunt_decrement = $nbre_emprunt_actuel - 1; goto uvMlEe1YFl5ptLEw; uvMlEe1YFl5ptLEw: DB::table("\145\155\160\162\x75\156\x74\x73")->where("\x65\155\160\x72\x75\156\164\163\x2e\x69\x64", $request["\151\144\162\145\x74\157\165\x72\145\155\x70\162\165\x6e\164"])->update(array("\x65\x6d\160\162\x75\156\x74\x73\56\104\x61\164\x65\x5f\x52\x65\164\x6f\x75\162" => $request["\x44\141\164\x65\x5f\122\x65\x74\157\x75\162"], "\117\x62\x73\145\x72\166\141\x74\151\157\x6e\x52\x65\x74\x6f\165\162" => $request["\x4f\142\163\145\162\166\141\164\x69\x6f\156\x52\x65\164\157\x75\x72"])); goto Ot0JE8JUGltDDiCB; E_Myg5ffsu6BMTrA: BwpyU61mJAQ49nJr: goto nWGEc_Z3jKe0P5F5; SCgy9vZahqF4Tx0g: $nbre_emprunt_actuel = $nbre_emprunt_initial[0]->nbre_emprunt; goto FBa8xYlQ0wWLWC9U; nWGEc_Z3jKe0P5F5: } public function destroy(Request $r) { goto WFIxrhO36O71GdCA; WFIxrhO36O71GdCA: $emprunt = Emprunt::where("\x69\144", $r->id)->first(); goto wzjIu33F8uvboYS8; D50zs63hOW2pC2bD: $emprunt->delete(); goto Z1NRhrQRnocqUXZK; wzjIu33F8uvboYS8: if (!($emprunt != null)) { goto RU1NrrEyOW_1a3LI; } goto D50zs63hOW2pC2bD; Z1NRhrQRnocqUXZK: return redirect()->back(); goto PuWjCjqsYQEhd2i8; PuWjCjqsYQEhd2i8: RU1NrrEyOW_1a3LI: goto rWi4tQqo30XFqhzQ; rWi4tQqo30XFqhzQ: } } ?>
